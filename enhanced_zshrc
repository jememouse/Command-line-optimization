# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block; everything else may go below.
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# 加载 Powerlevel10k
source ~/powerlevel10k/powerlevel10k.zsh-theme

# 加载 p10k 配置
[[ -f ~/.p10k.zsh ]] && source ~/.p10k.zsh

# 加载命令补全配置
[[ -f ~/.zsh/completion_config.zsh ]] && source ~/.zsh/completion_config.zsh

# 加载命令联想配置
[[ -f ~/.zsh/suggestion_config.zsh ]] && source ~/.zsh/suggestion_config.zsh

# 基础配置
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8

# History 配置
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt appendhistory
setopt SHARE_HISTORY
setopt HIST_IGNORE_DUPS

# 基本别名
alias ls='ls --color=auto'
alias ll='ls -l'
alias la='ls -la'

# 加载增强补全配置
[[ -f ~/.zsh/enhanced_completion.zsh ]] && source ~/.zsh/enhanced_completion.zsh


export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
source ~/.zsh/enhanced_completion.zsh
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles
export HOMEBREW_API_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api
export HOMEBREW_BREW_GIT_REMOTE=https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git
export HOMEBREW_CORE_GIT_REMOTE=https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
export HOMEBREW_CASK_GIT_REMOTE=https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git
# bun
export BUN_INSTALL="$HOME/Library/Application Support/reflex/bun"
export PATH="$BUN_INSTALL/bin:$PATH"

# Added by Antigravity
export PATH="/Users/wang/.antigravity/antigravity/bin:$PATH"

export PATH="/Users/wang/.pixi/bin:$PATH"
export UV_INDEX_URL="https://pypi.tuna.tsinghua.edu.cn/simple"
export UV_PYTHON_INSTALL_MIRROR="https://mirrors.tuna.tsinghua.edu.cn/python"

. "$HOME/.local/bin/env"

# 🔧 终端配置完整指南

## 📋 当前情况说明

根据我们的测试，您的系统情况如下：
- ✅ 已安装 zsh 5.9
- ✅ 已安装 Python 3.13.5  
- ✅ 已安装 Git
- ✅ 已安装 pyenv
- ⚠️ 可能没有 ~/.zshrc 配置文件或配置不完整

## 🎯 三种配置方案

### 方案1：使用默认的简单配置（推荐新手）

```bash
# 1. 创建基本的 ~/.zshrc 文件
cat > ~/.zshrc << 'EOF'
# 基本zsh配置
autoload -U colors && colors
PROMPT='%n@%m:%~$ '

# 基本别名
alias ll='ls -alF'
alias la='ls -A'
alias py='python3'

# 历史记录
HISTFILE=~/.zsh_history
HISTSIZE=1000
SAVEHIST=1000

# 自动补全
autoload -Uz compinit
compinit
EOF

# 2. 重新加载配置
source ~/.zshrc
```

**效果**：简单的 `用户名@主机名:目录$ ` 提示符

### 方案2：使用我们的简化自定义配置

```bash
# 1. 进入项目目录
cd ~/Documents/code-project/终端命令行优化

# 2. 应用简化配置
echo "source $(pwd)/simple_prompt.zsh" > ~/.zshrc

# 3. 重新加载
source ~/.zshrc
```

**效果**：您要求的多行样式提示符

### 方案3：使用完整功能配置

```bash
# 1. 进入项目目录
cd ~/Documents/code-project/终端命令行优化

# 2. 运行安装脚本
./install.sh

# 3. 按提示操作
```

**效果**：包含所有功能的完整配置

## 🚀 快速开始（推荐）

**最简单的方法**：

```bash
# 1. 打开终端，运行以下命令创建基本配置
cat > ~/.zshrc << 'EOF'
# 启用颜色和提示符替换
autoload -U colors && colors
setopt PROMPT_SUBST

# 定义颜色
local GREEN="%{$fg[green]%}"
local BLUE="%{$fg[blue]%}"
local YELLOW="%{$fg[yellow]%}"
local CYAN="%{$fg[cyan]%}"
local RESET="%{$reset_color%}"

# 简单的多行提示符
PROMPT='
${CYAN}╭─${RESET}${GREEN}👤 %n${RESET} ${BLUE}@%m${RESET} ${YELLOW}📁 %~${RESET}
${CYAN}╰─${RESET}${GREEN}🐍 Python${RESET} ${CYAN}⏰ %D{%H:%M:%S}${RESET}
${CYAN}❯${RESET} '

# 基本别名
alias ll='ls -alF'
alias py='python3'
alias gs='git status'

# 历史记录
HISTFILE=~/.zsh_history
HISTSIZE=1000
SAVEHIST=1000

# 自动补全
autoload -Uz compinit
compinit

echo "✅ 终端配置已加载！"
EOF

# 2. 重新加载配置
source ~/.zshrc
```

## 🔄 如何切换配置

### 恢复系统默认

```bash
# 删除自定义配置
rm ~/.zshrc

# 或者创建最简配置
echo 'PROMPT="%n@%m:%~$ "' > ~/.zshrc
source ~/.zshrc
```

### 查看当前配置

```bash
# 查看配置文件内容
cat ~/.zshrc

# 查看当前提示符设置
echo "PROMPT: $PROMPT"
echo "PS1: $PS1"
```

### 备份和恢复

```bash
# 备份当前配置
cp ~/.zshrc ~/.zshrc.backup.$(date +%Y%m%d_%H%M%S)

# 恢复备份
cp ~/.zshrc.backup.20241216_143000 ~/.zshrc  # 替换为实际备份文件名
source ~/.zshrc
```

## 🛠️ 故障排除

### 问题1：提示符显示异常

```bash
# 检查zsh是否为默认shell
echo $SHELL

# 如果不是zsh，切换到zsh
chsh -s /bin/zsh
```

### 问题2：配置不生效

```bash
# 重新加载配置
source ~/.zshrc

# 或者重启终端
```

### 问题3：图标显示为方框

```bash
# 安装支持emoji的字体（macOS）
brew tap homebrew/cask-fonts
brew install --cask font-hack-nerd-font

# 然后在终端设置中更改字体为 "Hack Nerd Font"
```

### 问题4：Python版本检测不正确

```bash
# 检查Python路径
which python3
echo $PATH

# 如果使用pyenv，确保正确初始化
echo 'export PATH="$HOME/.pyenv/bin:$PATH"' >> ~/.zshrc
echo 'eval "$(pyenv init -)"' >> ~/.zshrc
source ~/.zshrc
```

## 📝 自定义提示符

如果您想自定义提示符，可以修改 `~/.zshrc` 中的 `PROMPT` 变量：

```bash
# 基本格式
PROMPT='您的提示符格式'

# 常用变量
# %n - 用户名
# %m - 主机名
# %~ - 当前目录（~表示家目录）
# %D{%H:%M:%S} - 时间

# 颜色代码
# %{$fg[red]%} - 红色
# %{$fg[green]%} - 绿色
# %{$reset_color%} - 重置颜色
```

## 🎉 完成

选择一个方案并按步骤操作，您就可以拥有美观的终端提示符了！

**推荐顺序**：
1. 先试试"快速开始"的方法
2. 如果满意就继续使用
3. 如果想要更多功能，再尝试完整配置
